{"ast":null,"code":"import{Button}from\"@material-ui/core\";import{DataGrid}from\"@material-ui/data-grid\";import React,{useEffect}from\"react\";import{AiOutlineDelete,AiOutlineEye}from\"react-icons/ai\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{deleteEvent,getAllEventsShop}from\"../../redux/actions/event\";import{getAllProductsShop}from\"../../redux/actions/product\";import{deleteProduct}from\"../../redux/actions/product\";import Loader from\"../Layout/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AllEvents=function AllEvents(){var _useSelector=useSelector(function(state){return state.events;}),events=_useSelector.events,isLoading=_useSelector.isLoading;var _useSelector2=useSelector(function(state){return state.seller;}),seller=_useSelector2.seller;var dispatch=useDispatch();useEffect(function(){dispatch(getAllEventsShop(seller._id));},[dispatch]);var handleDelete=function handleDelete(id){dispatch(deleteEvent(id));window.location.reload();};var columns=[{field:\"id\",headerName:\"Product Id\",minWidth:150,flex:0.7},{field:\"name\",headerName:\"Name\",minWidth:180,flex:1.4},{field:\"price\",headerName:\"Price\",minWidth:100,flex:0.6},{field:\"Stock\",headerName:\"Stock\",type:\"number\",minWidth:80,flex:0.5},{field:\"sold\",headerName:\"Sold out\",type:\"number\",minWidth:130,flex:0.6},{field:\"Preview\",flex:0.8,minWidth:100,headerName:\"\",type:\"number\",sortable:false,renderCell:function renderCell(params){var d=params.row.name;var product_name=d.replace(/\\s+/g,\"-\");return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product_name),children:/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(AiOutlineEye,{size:20})})})});}},{field:\"Delete\",flex:0.8,minWidth:120,headerName:\"\",type:\"number\",sortable:false,renderCell:function renderCell(params){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleDelete(params.id);},children:/*#__PURE__*/_jsx(AiOutlineDelete,{size:20})})});}}];var row=[];events&&events.forEach(function(item){row.push({id:item._id,name:item.name,price:\"US$ \"+item.discountPrice,Stock:item.stock,sold:item.sold_out});});return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full mx-8 pt-1 mt-10 bg-white\",children:/*#__PURE__*/_jsx(DataGrid,{rows:row,columns:columns,pageSize:10,disableSelectionOnClick:true,autoHeight:true})})});};export default AllEvents;","map":{"version":3,"names":["Button","DataGrid","React","useEffect","AiOutlineDelete","AiOutlineEye","useDispatch","useSelector","Link","deleteEvent","getAllEventsShop","getAllProductsShop","deleteProduct","Loader","jsx","_jsx","Fragment","_Fragment","AllEvents","_useSelector","state","events","isLoading","_useSelector2","seller","dispatch","_id","handleDelete","id","window","location","reload","columns","field","headerName","minWidth","flex","type","sortable","renderCell","params","d","row","name","product_name","replace","children","to","concat","size","onClick","forEach","item","push","price","discountPrice","Stock","stock","sold","sold_out","className","rows","pageSize","disableSelectionOnClick","autoHeight"],"sources":["C:/Users/Alex Myrie/OneDrive/Desktop/Believe/Mytimerce-Website/Eshop-tutorial/frontend/src/components/Shop/AllEvents.jsx"],"sourcesContent":["import { Button } from \"@material-ui/core\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport React, { useEffect } from \"react\";\r\nimport { AiOutlineDelete, AiOutlineEye } from \"react-icons/ai\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteEvent, getAllEventsShop } from \"../../redux/actions/event\";\r\nimport { getAllProductsShop } from \"../../redux/actions/product\";\r\nimport { deleteProduct } from \"../../redux/actions/product\";\r\nimport Loader from \"../Layout/Loader\";\r\n\r\nconst AllEvents = () => {\r\n  const { events, isLoading } = useSelector((state) => state.events);\r\n  const { seller } = useSelector((state) => state.seller);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllEventsShop(seller._id));\r\n  }, [dispatch]);\r\n\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteEvent(id));\r\n    window.location.reload();\r\n  }\r\n\r\n  const columns = [\r\n    { field: \"id\", headerName: \"Product Id\", minWidth: 150, flex: 0.7 },\r\n    {\r\n      field: \"name\",\r\n      headerName: \"Name\",\r\n      minWidth: 180,\r\n      flex: 1.4,\r\n    },\r\n    {\r\n      field: \"price\",\r\n      headerName: \"Price\",\r\n      minWidth: 100,\r\n      flex: 0.6,\r\n    },\r\n    {\r\n      field: \"Stock\",\r\n      headerName: \"Stock\",\r\n      type: \"number\",\r\n      minWidth: 80,\r\n      flex: 0.5,\r\n    },\r\n\r\n    {\r\n      field: \"sold\",\r\n      headerName: \"Sold out\",\r\n      type: \"number\",\r\n      minWidth: 130,\r\n      flex: 0.6,\r\n    },\r\n    {\r\n      field: \"Preview\",\r\n      flex: 0.8,\r\n      minWidth: 100,\r\n      headerName: \"\",\r\n      type: \"number\",\r\n      sortable: false,\r\n      renderCell: (params) => {\r\n        const d = params.row.name;\r\n        const product_name = d.replace(/\\s+/g, \"-\");\r\n        return (\r\n          <>\r\n            <Link to={`/product/${product_name}`}>\r\n              <Button>\r\n                <AiOutlineEye size={20} />\r\n              </Button>\r\n            </Link>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      field: \"Delete\",\r\n      flex: 0.8,\r\n      minWidth: 120,\r\n      headerName: \"\",\r\n      type: \"number\",\r\n      sortable: false,\r\n      renderCell: (params) => {\r\n        return (\r\n          <>\r\n            <Button\r\n            onClick={() => handleDelete(params.id)}\r\n            >\r\n              <AiOutlineDelete size={20} />\r\n            </Button>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const row = [];\r\n\r\n  events &&\r\n  events.forEach((item) => {\r\n      row.push({\r\n        id: item._id,\r\n        name: item.name,\r\n        price: \"US$ \" + item.discountPrice,\r\n        Stock: item.stock,\r\n        sold: item.sold_out,\r\n      });\r\n    });\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"w-full mx-8 pt-1 mt-10 bg-white\">\r\n          <DataGrid\r\n            rows={row}\r\n            columns={columns}\r\n            pageSize={10}\r\n            disableSelectionOnClick\r\n            autoHeight\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllEvents;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}