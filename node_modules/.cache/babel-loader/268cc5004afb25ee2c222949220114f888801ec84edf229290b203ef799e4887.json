{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import styles from\"../../styles/styles\";import{AiOutlineArrowRight,AiOutlineMoneyCollect}from\"react-icons/ai\";import{MdBorderClear}from\"react-icons/md\";import{Link}from\"react-router-dom\";import{DataGrid}from\"@material-ui/data-grid\";import{Button}from\"@material-ui/core\";import{useDispatch,useSelector}from\"react-redux\";import{getAllOrdersOfAdmin}from\"../../redux/actions/order\";import Loader from\"../Layout/Loader\";import{getAllSellers}from\"../../redux/actions/sellers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminDashboardMain=function AdminDashboardMain(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.order;}),adminOrders=_useSelector.adminOrders,adminOrderLoading=_useSelector.adminOrderLoading;var _useSelector2=useSelector(function(state){return state.seller;}),sellers=_useSelector2.sellers;useEffect(function(){dispatch(getAllOrdersOfAdmin());dispatch(getAllSellers());},[]);var adminEarning=adminOrders&&adminOrders.reduce(function(acc,item){return acc+item.totalPrice*.10;},0);var adminBalance=adminEarning===null||adminEarning===void 0?void 0:adminEarning.toFixed(2);var columns=[{field:\"id\",headerName:\"Order ID\",minWidth:150,flex:0.7},{field:\"status\",headerName:\"Status\",minWidth:130,flex:0.7,cellClassName:function cellClassName(params){return params.getValue(params.id,\"status\")===\"Delivered\"?\"greenColor\":\"redColor\";}},{field:\"itemsQty\",headerName:\"Items Qty\",type:\"number\",minWidth:130,flex:0.7},{field:\"total\",headerName:\"Total\",type:\"number\",minWidth:130,flex:0.8},{field:\"createdAt\",headerName:\"Order Date\",type:\"number\",minWidth:130,flex:0.8}];var row=[];adminOrders&&adminOrders.forEach(function(item){var _item$cart;row.push({id:item._id,itemsQty:item===null||item===void 0?void 0:(_item$cart=item.cart)===null||_item$cart===void 0?void 0:_item$cart.reduce(function(acc,item){return acc+item.qty;},0),total:(item===null||item===void 0?void 0:item.totalPrice)+\" $\",status:item===null||item===void 0?void 0:item.status,createdAt:item===null||item===void 0?void 0:item.createdAt.slice(0,10)});});return/*#__PURE__*/_jsx(_Fragment,{children:adminOrderLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-[22px] font-Poppins pb-2\",children:\"Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full block 800px:flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(AiOutlineMoneyCollect,{size:30,className:\"mr-2\",fill:\"#00000085\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"\".concat(styles.productTitle,\" !text-[18px] leading-5 !font-[400] text-[#00000085]\"),children:\"Total Earning\"})]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"pt-2 pl-[36px] text-[22px] font-[500]\",children:[\"$ \",adminBalance]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MdBorderClear,{size:30,className:\"mr-2\",fill:\"#00000085\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"\".concat(styles.productTitle,\" !text-[18px] leading-5 !font-[400] text-[#00000085]\"),children:\"All Sellers\"})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"pt-2 pl-[36px] text-[22px] font-[500]\",children:sellers&&sellers.length}),/*#__PURE__*/_jsx(Link,{to:\"/admin-sellers\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"pt-4 pl-2 text-[#077f9c]\",children:\"View Sellers\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(AiOutlineMoneyCollect,{size:30,className:\"mr-2\",fill:\"#00000085\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"\".concat(styles.productTitle,\" !text-[18px] leading-5 !font-[400] text-[#00000085]\"),children:\"All Orders\"})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"pt-2 pl-[36px] text-[22px] font-[500]\",children:adminOrders&&adminOrders.length}),/*#__PURE__*/_jsx(Link,{to:\"/admin-orders\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"pt-4 pl-2 text-[#077f9c]\",children:\"View Orders\"})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-[22px] font-Poppins pb-2\",children:\"Latest Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full min-h-[45vh] bg-white rounded\",children:/*#__PURE__*/_jsx(DataGrid,{rows:row,columns:columns,pageSize:4,disableSelectionOnClick:true,autoHeight:true})})]})});};export default AdminDashboardMain;","map":{"version":3,"names":["React","useEffect","useState","styles","AiOutlineArrowRight","AiOutlineMoneyCollect","MdBorderClear","Link","DataGrid","Button","useDispatch","useSelector","getAllOrdersOfAdmin","Loader","getAllSellers","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboardMain","dispatch","_useSelector","state","order","adminOrders","adminOrderLoading","_useSelector2","seller","sellers","adminEarning","reduce","acc","item","totalPrice","adminBalance","toFixed","columns","field","headerName","minWidth","flex","cellClassName","params","getValue","id","type","row","forEach","_item$cart","push","_id","itemsQty","cart","qty","total","status","createdAt","slice","children","className","size","fill","concat","productTitle","length","to","rows","pageSize","disableSelectionOnClick","autoHeight"],"sources":["C:/Users/Alex Myrie/OneDrive/Desktop/Believe/Mytimerce-Website/Eshop-tutorial/frontend/src/components/Admin/AdminDashboardMain.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport styles from \"../../styles/styles\";\r\nimport { AiOutlineArrowRight, AiOutlineMoneyCollect } from \"react-icons/ai\";\r\nimport { MdBorderClear } from \"react-icons/md\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllOrdersOfAdmin } from \"../../redux/actions/order\";\r\nimport Loader from \"../Layout/Loader\";\r\nimport { getAllSellers } from \"../../redux/actions/sellers\";\r\n\r\nconst AdminDashboardMain = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { adminOrders,adminOrderLoading } = useSelector((state) => state.order);\r\n  const { sellers } = useSelector((state) => state.seller);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllOrdersOfAdmin());\r\n    dispatch(getAllSellers());\r\n  }, []);\r\n\r\n   const adminEarning = adminOrders && adminOrders.reduce((acc,item) => acc + item.totalPrice * .10, 0);\r\n\r\n\r\n   const adminBalance = adminEarning?.toFixed(2);\r\n\r\n  const columns = [\r\n    { field: \"id\", headerName: \"Order ID\", minWidth: 150, flex: 0.7 },\r\n\r\n    {\r\n      field: \"status\",\r\n      headerName: \"Status\",\r\n      minWidth: 130,\r\n      flex: 0.7,\r\n      cellClassName: (params) => {\r\n        return params.getValue(params.id, \"status\") === \"Delivered\"\r\n          ? \"greenColor\"\r\n          : \"redColor\";\r\n      },\r\n    },\r\n    {\r\n      field: \"itemsQty\",\r\n      headerName: \"Items Qty\",\r\n      type: \"number\",\r\n      minWidth: 130,\r\n      flex: 0.7,\r\n    },\r\n\r\n    {\r\n      field: \"total\",\r\n      headerName: \"Total\",\r\n      type: \"number\",\r\n      minWidth: 130,\r\n      flex: 0.8,\r\n    },\r\n    {\r\n      field: \"createdAt\",\r\n      headerName: \"Order Date\",\r\n      type: \"number\",\r\n      minWidth: 130,\r\n      flex: 0.8,\r\n    },\r\n  ];\r\n\r\n  const row = [];\r\n  adminOrders &&\r\n  adminOrders.forEach((item) => {\r\n      row.push({\r\n        id: item._id,\r\n        itemsQty: item?.cart?.reduce((acc, item) => acc + item.qty, 0),\r\n        total: item?.totalPrice + \" $\",\r\n        status: item?.status,\r\n        createdAt: item?.createdAt.slice(0,10),\r\n      });\r\n    });\r\n\r\n  return (\r\n   <>\r\n    {\r\n      adminOrderLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"w-full p-4\">\r\n        <h3 className=\"text-[22px] font-Poppins pb-2\">Overview</h3>\r\n        <div className=\"w-full block 800px:flex items-center justify-between\">\r\n          <div className=\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\">\r\n            <div className=\"flex items-center\">\r\n              <AiOutlineMoneyCollect\r\n                size={30}\r\n                className=\"mr-2\"\r\n                fill=\"#00000085\"\r\n              />\r\n              <h3\r\n                className={`${styles.productTitle} !text-[18px] leading-5 !font-[400] text-[#00000085]`}\r\n              >\r\n                Total Earning\r\n              </h3>\r\n            </div>\r\n            <h5 className=\"pt-2 pl-[36px] text-[22px] font-[500]\">$ {adminBalance}</h5>\r\n          </div>\r\n  \r\n          <div className=\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\">\r\n            <div className=\"flex items-center\">\r\n              <MdBorderClear size={30} className=\"mr-2\" fill=\"#00000085\" />\r\n              <h3\r\n                className={`${styles.productTitle} !text-[18px] leading-5 !font-[400] text-[#00000085]`}\r\n              >\r\n                All Sellers\r\n              </h3>\r\n            </div>\r\n            <h5 className=\"pt-2 pl-[36px] text-[22px] font-[500]\">{sellers && sellers.length}</h5>\r\n            <Link to=\"/admin-sellers\">\r\n              <h5 className=\"pt-4 pl-2 text-[#077f9c]\">View Sellers</h5>\r\n            </Link>\r\n          </div>\r\n  \r\n          <div className=\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\">\r\n            <div className=\"flex items-center\">\r\n              <AiOutlineMoneyCollect\r\n                size={30}\r\n                className=\"mr-2\"\r\n                fill=\"#00000085\"\r\n              />\r\n              <h3\r\n                className={`${styles.productTitle} !text-[18px] leading-5 !font-[400] text-[#00000085]`}\r\n              >\r\n                All Orders\r\n              </h3>\r\n            </div>\r\n            <h5 className=\"pt-2 pl-[36px] text-[22px] font-[500]\">{adminOrders && adminOrders.length}</h5>\r\n            <Link to=\"/admin-orders\">\r\n              <h5 className=\"pt-4 pl-2 text-[#077f9c]\">View Orders</h5>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n  \r\n        <br />\r\n        <h3 className=\"text-[22px] font-Poppins pb-2\">Latest Orders</h3>\r\n        <div className=\"w-full min-h-[45vh] bg-white rounded\">\r\n          <DataGrid\r\n            rows={row}\r\n            columns={columns}\r\n            pageSize={4}\r\n            disableSelectionOnClick\r\n            autoHeight\r\n          />\r\n        </div>\r\n      </div>\r\n      )\r\n    }\r\n   </>\r\n  );\r\n};\r\n\r\nexport default AdminDashboardMain;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}