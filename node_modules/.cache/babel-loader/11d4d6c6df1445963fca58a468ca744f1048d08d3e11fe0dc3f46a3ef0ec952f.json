{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{AiOutlineArrowRight,AiOutlineMoneyCollect}from\"react-icons/ai\";import styles from\"../../styles/styles\";import{Link}from\"react-router-dom\";import{MdBorderClear}from\"react-icons/md\";import{useDispatch,useSelector}from\"react-redux\";import{getAllOrdersOfShop}from\"../../redux/actions/order\";import{getAllProductsShop}from\"../../redux/actions/product\";import{Button}from\"@material-ui/core\";import{DataGrid}from\"@material-ui/data-grid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DashboardHero=function DashboardHero(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.order;}),orders=_useSelector.orders;var _useSelector2=useSelector(function(state){return state.seller;}),seller=_useSelector2.seller;var _useSelector3=useSelector(function(state){return state.products;}),products=_useSelector3.products;useEffect(function(){dispatch(getAllOrdersOfShop(seller._id));dispatch(getAllProductsShop(seller._id));},[dispatch]);var availableBalance=seller===null||seller===void 0?void 0:seller.availableBalance.toFixed(2);var columns=[{field:\"id\",headerName:\"Order ID\",minWidth:150,flex:0.7},{field:\"status\",headerName:\"Status\",minWidth:130,flex:0.7,cellClassName:function cellClassName(params){return params.getValue(params.id,\"status\")===\"Delivered\"?\"greenColor\":\"redColor\";}},{field:\"itemsQty\",headerName:\"Items Qty\",type:\"number\",minWidth:130,flex:0.7},{field:\"total\",headerName:\"Total\",type:\"number\",minWidth:130,flex:0.8},{field:\" \",flex:1,minWidth:150,headerName:\"\",type:\"number\",sortable:false,renderCell:function renderCell(params){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/order/\".concat(params.id),children:/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(AiOutlineArrowRight,{size:20})})})});}}];var row=[];orders&&orders.forEach(function(item){row.push({id:item._id,itemsQty:item.cart.reduce(function(acc,item){return acc+item.qty;},0),total:\"US$ \"+item.totalPrice,status:item.status});});return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-[22px] font-Poppins pb-2\",children:\"Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full block 800px:flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(AiOutlineMoneyCollect,{size:30,className:\"mr-2\",fill:\"#00000085\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"\".concat(styles.productTitle,\" !text-[18px] leading-5 !font-[400] text-[#00000085]\"),children:[\"Account Balance\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-[16px]\",children:\"(with 10% service charge)\"})]})]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"pt-2 pl-[36px] text-[22px] font-[500]\",children:[\"$\",availableBalance]}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard-withdraw-money\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"pt-4 pl-[2] text-[#077f9c]\",children:\"Withdraw Money\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MdBorderClear,{size:30,className:\"mr-2\",fill:\"#00000085\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"\".concat(styles.productTitle,\" !text-[18px] leading-5 !font-[400] text-[#00000085]\"),children:\"All Orders\"})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"pt-2 pl-[36px] text-[22px] font-[500]\",children:orders&&orders.length}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard-orders\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"pt-4 pl-2 text-[#077f9c]\",children:\"View Orders\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(AiOutlineMoneyCollect,{size:30,className:\"mr-2\",fill:\"#00000085\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"\".concat(styles.productTitle,\" !text-[18px] leading-5 !font-[400] text-[#00000085]\"),children:\"All Products\"})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"pt-2 pl-[36px] text-[22px] font-[500]\",children:products&&products.length}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard-products\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"pt-4 pl-2 text-[#077f9c]\",children:\"View Products\"})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-[22px] font-Poppins pb-2\",children:\"Latest Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full min-h-[45vh] bg-white rounded\",children:/*#__PURE__*/_jsx(DataGrid,{rows:row,columns:columns,pageSize:10,disableSelectionOnClick:true,autoHeight:true})})]});};export default DashboardHero;","map":{"version":3,"names":["React","useEffect","useState","AiOutlineArrowRight","AiOutlineMoneyCollect","styles","Link","MdBorderClear","useDispatch","useSelector","getAllOrdersOfShop","getAllProductsShop","Button","DataGrid","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DashboardHero","dispatch","_useSelector","state","order","orders","_useSelector2","seller","_useSelector3","products","_id","availableBalance","toFixed","columns","field","headerName","minWidth","flex","cellClassName","params","getValue","id","type","sortable","renderCell","children","to","concat","size","row","forEach","item","push","itemsQty","cart","reduce","acc","qty","total","totalPrice","status","className","fill","productTitle","length","rows","pageSize","disableSelectionOnClick","autoHeight"],"sources":["C:/Users/Alex Myrie/OneDrive/Desktop/Believe/Mytimerce-Website/Eshop-tutorial/frontend/src/components/Shop/DashboardHero.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { AiOutlineArrowRight, AiOutlineMoneyCollect } from \"react-icons/ai\";\r\nimport styles from \"../../styles/styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MdBorderClear } from \"react-icons/md\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllOrdersOfShop } from \"../../redux/actions/order\";\r\nimport { getAllProductsShop } from \"../../redux/actions/product\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\n\r\nconst DashboardHero = () => {\r\n  const dispatch = useDispatch();\r\n  const { orders } = useSelector((state) => state.order);\r\n  const { seller } = useSelector((state) => state.seller);\r\n  const { products } = useSelector((state) => state.products);\r\n\r\n  useEffect(() => {\r\n     dispatch(getAllOrdersOfShop(seller._id));\r\n     dispatch(getAllProductsShop(seller._id));\r\n  }, [dispatch]);\r\n\r\n  const availableBalance = seller?.availableBalance.toFixed(2);\r\n\r\n  const columns = [\r\n    { field: \"id\", headerName: \"Order ID\", minWidth: 150, flex: 0.7 },\r\n\r\n    {\r\n      field: \"status\",\r\n      headerName: \"Status\",\r\n      minWidth: 130,\r\n      flex: 0.7,\r\n      cellClassName: (params) => {\r\n        return params.getValue(params.id, \"status\") === \"Delivered\"\r\n          ? \"greenColor\"\r\n          : \"redColor\";\r\n      },\r\n    },\r\n    {\r\n      field: \"itemsQty\",\r\n      headerName: \"Items Qty\",\r\n      type: \"number\",\r\n      minWidth: 130,\r\n      flex: 0.7,\r\n    },\r\n\r\n    {\r\n      field: \"total\",\r\n      headerName: \"Total\",\r\n      type: \"number\",\r\n      minWidth: 130,\r\n      flex: 0.8,\r\n    },\r\n\r\n    {\r\n      field: \" \",\r\n      flex: 1,\r\n      minWidth: 150,\r\n      headerName: \"\",\r\n      type: \"number\",\r\n      sortable: false,\r\n      renderCell: (params) => {\r\n        return (\r\n          <>\r\n            <Link to={`/dashboard/order/${params.id}`}>\r\n              <Button>\r\n                <AiOutlineArrowRight size={20} />\r\n              </Button>\r\n            </Link>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const row = [];\r\n\r\n  orders && orders.forEach((item) => {\r\n    row.push({\r\n        id: item._id,\r\n        itemsQty: item.cart.reduce((acc, item) => acc + item.qty, 0),\r\n        total: \"US$ \" + item.totalPrice,\r\n        status: item.status,\r\n      });\r\n  });\r\n  return (\r\n    <div className=\"w-full p-8\">\r\n      <h3 className=\"text-[22px] font-Poppins pb-2\">Overview</h3>\r\n      <div className=\"w-full block 800px:flex items-center justify-between\">\r\n        <div className=\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\">\r\n          <div className=\"flex items-center\">\r\n            <AiOutlineMoneyCollect\r\n              size={30}\r\n              className=\"mr-2\"\r\n              fill=\"#00000085\"\r\n            />\r\n            <h3\r\n              className={`${styles.productTitle} !text-[18px] leading-5 !font-[400] text-[#00000085]`}\r\n            >\r\n              Account Balance{\" \"}\r\n              <span className=\"text-[16px]\">(with 10% service charge)</span>\r\n            </h3>\r\n          </div>\r\n          <h5 className=\"pt-2 pl-[36px] text-[22px] font-[500]\">${availableBalance}</h5>\r\n          <Link to=\"/dashboard-withdraw-money\">\r\n            <h5 className=\"pt-4 pl-[2] text-[#077f9c]\">Withdraw Money</h5>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\">\r\n          <div className=\"flex items-center\">\r\n            <MdBorderClear size={30} className=\"mr-2\" fill=\"#00000085\" />\r\n            <h3\r\n              className={`${styles.productTitle} !text-[18px] leading-5 !font-[400] text-[#00000085]`}\r\n            >\r\n              All Orders\r\n            </h3>\r\n          </div>\r\n          <h5 className=\"pt-2 pl-[36px] text-[22px] font-[500]\">{orders && orders.length}</h5>\r\n          <Link to=\"/dashboard-orders\">\r\n            <h5 className=\"pt-4 pl-2 text-[#077f9c]\">View Orders</h5>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"w-full mb-4 800px:w-[30%] min-h-[20vh] bg-white shadow rounded px-2 py-5\">\r\n          <div className=\"flex items-center\">\r\n            <AiOutlineMoneyCollect\r\n              size={30}\r\n              className=\"mr-2\"\r\n              fill=\"#00000085\"\r\n            />\r\n            <h3\r\n              className={`${styles.productTitle} !text-[18px] leading-5 !font-[400] text-[#00000085]`}\r\n            >\r\n              All Products\r\n            </h3>\r\n          </div>\r\n          <h5 className=\"pt-2 pl-[36px] text-[22px] font-[500]\">{products && products.length}</h5>\r\n          <Link to=\"/dashboard-products\">\r\n            <h5 className=\"pt-4 pl-2 text-[#077f9c]\">View Products</h5>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <br />\r\n      <h3 className=\"text-[22px] font-Poppins pb-2\">Latest Orders</h3>\r\n      <div className=\"w-full min-h-[45vh] bg-white rounded\">\r\n      <DataGrid\r\n        rows={row}\r\n        columns={columns}\r\n        pageSize={10}\r\n        disableSelectionOnClick\r\n        autoHeight\r\n      />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardHero;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}