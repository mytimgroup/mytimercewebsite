{"ast":null,"code":"import _slicedToArray from\"C:/Users/Alex Myrie/OneDrive/Desktop/Believe/Mytimerce-Website/Eshop-tutorial/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{server}from\"../../server\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CountDown=function CountDown(_ref){var data=_ref.data;var _useState=useState(calculateTimeLeft()),_useState2=_slicedToArray(_useState,2),timeLeft=_useState2[0],setTimeLeft=_useState2[1];useEffect(function(){var timer=setTimeout(function(){setTimeLeft(calculateTimeLeft());},1000);if(typeof timeLeft.days==='undefined'&&typeof timeLeft.hours==='undefined'&&typeof timeLeft.minutes==='undefined'&&typeof timeLeft.seconds==='undefined'){axios.delete(\"\".concat(server,\"/event/delete-shop-event/\").concat(data._id));}return function(){return clearTimeout(timer);};});function calculateTimeLeft(){var difference=+new Date(data.Finish_Date)-+new Date();var timeLeft={};if(difference>0){timeLeft={days:Math.floor(difference/(1000*60*60*24)),hours:Math.floor(difference/(1000*60*60)%24),minutes:Math.floor(difference/1000/60%60),seconds:Math.floor(difference/1000%60)};}return timeLeft;}var timerComponents=Object.keys(timeLeft).map(function(interval){if(!timeLeft[interval]){return null;}return/*#__PURE__*/_jsxs(\"span\",{className:\"text-[25px] text-[#475ad2]\",children:[timeLeft[interval],\" \",interval,\" \"]});});return/*#__PURE__*/_jsx(\"div\",{children:timerComponents.length?timerComponents:/*#__PURE__*/_jsx(\"span\",{className:\"text-[red] text-[25px]\",children:\"Time's Up\"})});};export default CountDown;","map":{"version":3,"names":["axios","React","useEffect","useState","server","jsxs","_jsxs","jsx","_jsx","CountDown","_ref","data","_useState","calculateTimeLeft","_useState2","_slicedToArray","timeLeft","setTimeLeft","timer","setTimeout","days","hours","minutes","seconds","delete","concat","_id","clearTimeout","difference","Date","Finish_Date","Math","floor","timerComponents","Object","keys","map","interval","className","children","length"],"sources":["C:/Users/Alex Myrie/OneDrive/Desktop/Believe/Mytimerce-Website/Eshop-tutorial/frontend/src/components/Events/CountDown.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { server } from \"../../server\";\r\n\r\nconst CountDown = ({ data }) => {\r\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setTimeLeft(calculateTimeLeft());\r\n    }, 1000);\r\n\r\n    if (\r\n      typeof timeLeft.days === 'undefined' &&\r\n      typeof timeLeft.hours === 'undefined' &&\r\n      typeof timeLeft.minutes === 'undefined' &&\r\n      typeof timeLeft.seconds === 'undefined'\r\n    ) {\r\n      axios.delete(`${server}/event/delete-shop-event/${data._id}`);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  });\r\n\r\n  function calculateTimeLeft() {\r\n    const difference = +new Date(data.Finish_Date) - +new Date();\r\n    let timeLeft = {};\r\n\r\n    if (difference > 0) {\r\n      timeLeft = {\r\n        days: Math.floor(difference / (1000 * 60 * 60 * 24)),\r\n        hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\r\n        minutes: Math.floor((difference / 1000 / 60) % 60),\r\n        seconds: Math.floor((difference / 1000) % 60),\r\n      };\r\n    }\r\n\r\n    return timeLeft;\r\n  }\r\n\r\n  const timerComponents = Object.keys(timeLeft).map((interval) => {\r\n    if (!timeLeft[interval]) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <span className=\"text-[25px] text-[#475ad2]\">\r\n        {timeLeft[interval]} {interval}{\" \"}\r\n      </span>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {timerComponents.length ? (\r\n        timerComponents\r\n      ) : (\r\n        <span className=\"text-[red] text-[25px]\">Time's Up</span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountDown;\r\n"],"mappings":"4KAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,MAAM,KAAQ,cAAc,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAEtC,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAAC,IAAA,CAAiB,IAAX,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACvB,IAAAC,SAAA,CAAgCT,QAAQ,CAACU,iBAAiB,EAAE,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAAtDI,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5BZ,SAAS,CAAC,UAAM,CACd,GAAM,CAAAgB,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC7BF,WAAW,CAACJ,iBAAiB,EAAE,CAAC,CAClC,CAAC,CAAE,IAAI,CAAC,CAER,GACE,MAAO,CAAAG,QAAQ,CAACI,IAAI,GAAK,WAAW,EACpC,MAAO,CAAAJ,QAAQ,CAACK,KAAK,GAAK,WAAW,EACrC,MAAO,CAAAL,QAAQ,CAACM,OAAO,GAAK,WAAW,EACvC,MAAO,CAAAN,QAAQ,CAACO,OAAO,GAAK,WAAW,CACvC,CACAvB,KAAK,CAACwB,MAAM,IAAAC,MAAA,CAAIrB,MAAM,8BAAAqB,MAAA,CAA4Bd,IAAI,CAACe,GAAG,EAAG,CAC/D,CACA,MAAO,kBAAM,CAAAC,YAAY,CAACT,KAAK,CAAC,GAClC,CAAC,CAAC,CAEF,QAAS,CAAAL,iBAAiBA,CAAA,CAAG,CAC3B,GAAM,CAAAe,UAAU,CAAG,CAAC,GAAI,CAAAC,IAAI,CAAClB,IAAI,CAACmB,WAAW,CAAC,CAAG,CAAC,GAAI,CAAAD,IAAI,EAAE,CAC5D,GAAI,CAAAb,QAAQ,CAAG,CAAC,CAAC,CAEjB,GAAIY,UAAU,CAAG,CAAC,CAAE,CAClBZ,QAAQ,CAAG,CACTI,IAAI,CAAEW,IAAI,CAACC,KAAK,CAACJ,UAAU,EAAI,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CACpDP,KAAK,CAAEU,IAAI,CAACC,KAAK,CAAEJ,UAAU,EAAI,IAAI,CAAG,EAAE,CAAG,EAAE,CAAC,CAAI,EAAE,CAAC,CACvDN,OAAO,CAAES,IAAI,CAACC,KAAK,CAAEJ,UAAU,CAAG,IAAI,CAAG,EAAE,CAAI,EAAE,CAAC,CAClDL,OAAO,CAAEQ,IAAI,CAACC,KAAK,CAAEJ,UAAU,CAAG,IAAI,CAAI,EAAE,CAC9C,CAAC,CACH,CAEA,MAAO,CAAAZ,QAAQ,CACjB,CAEA,GAAM,CAAAiB,eAAe,CAAGC,MAAM,CAACC,IAAI,CAACnB,QAAQ,CAAC,CAACoB,GAAG,CAAC,SAACC,QAAQ,CAAK,CAC9D,GAAI,CAACrB,QAAQ,CAACqB,QAAQ,CAAC,CAAE,CACvB,MAAO,KAAI,CACb,CAEA,mBACE/B,KAAA,SAAMgC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACzCvB,QAAQ,CAACqB,QAAQ,CAAC,CAAC,GAAC,CAACA,QAAQ,CAAE,GAAG,GAC9B,CAEX,CAAC,CAAC,CAEF,mBACE7B,IAAA,QAAA+B,QAAA,CACGN,eAAe,CAACO,MAAM,CACrBP,eAAe,cAEfzB,IAAA,SAAM8B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,WAAS,EACnD,EACG,CAEV,CAAC,CAED,cAAe,CAAA9B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}